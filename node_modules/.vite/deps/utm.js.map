{
  "version": 3,
  "sources": ["../../utm/index.es.js"],
  "sourcesContent": ["'use strict'\r\n\r\nvar K0 = 0.9996;\r\n\r\nvar E = 0.00669438;\r\nvar E2 = Math.pow(E, 2);\r\nvar E3 = Math.pow(E, 3);\r\nvar E_P2 = E / (1 - E);\r\n\r\nvar SQRT_E = Math.sqrt(1 - E);\r\nvar _E = (1 - SQRT_E) / (1 + SQRT_E);\r\nvar _E2 = Math.pow(_E, 2);\r\nvar _E3 = Math.pow(_E, 3);\r\nvar _E4 = Math.pow(_E, 4);\r\nvar _E5 = Math.pow(_E, 5);\r\n\r\nvar M1 = 1 - E / 4 - 3 * E2 / 64 - 5 * E3 / 256;\r\nvar M2 = 3 * E / 8 + 3 * E2 / 32 + 45 * E3 / 1024;\r\nvar M3 = 15 * E2 / 256 + 45 * E3 / 1024;\r\nvar M4 = 35 * E3 / 3072;\r\n\r\nvar P2 = 3 / 2 * _E - 27 / 32 * _E3 + 269 / 512 * _E5;\r\nvar P3 = 21 / 16 * _E2 - 55 / 32 * _E4;\r\nvar P4 = 151 / 96 * _E3 - 417 / 128 * _E5;\r\nvar P5 = 1097 / 512 * _E4;\r\n\r\nvar R = 6378137;\r\n\r\nvar ZONE_LETTERS = 'CDEFGHJKLMNPQRSTUVWXX';\r\n\r\nexport function toLatLon(easting, northing, zoneNum, zoneLetter, northern, strict) {\r\n  strict = strict !== undefined ? strict : true;\r\n\r\n  if (!zoneLetter && northern === undefined) {\r\n    throw new Error('either zoneLetter or northern needs to be set');\r\n  } else if (zoneLetter && northern !== undefined) {\r\n    throw new Error('set either zoneLetter or northern, but not both');\r\n  }\r\n\r\n  if (strict) {\r\n    if (easting < 100000 || 1000000 <= easting) {\r\n      throw new RangeError('easting out of range (must be between 100 000 m and 999 999 m)');\r\n    }\r\n    if (northing < 0 || northing > 10000000) {\r\n      throw new RangeError('northing out of range (must be between 0 m and 10 000 000 m)');\r\n    }\r\n  }\r\n  if (zoneNum < 1 || zoneNum > 60) {\r\n    throw new RangeError('zone number out of range (must be between 1 and 60)');\r\n  }\r\n  if (zoneLetter) {\r\n    zoneLetter = zoneLetter.toUpperCase();\r\n    if (zoneLetter.length !== 1 || ZONE_LETTERS.indexOf(zoneLetter) === -1) {\r\n      throw new RangeError('zone letter out of range (must be between C and X)');\r\n    }\r\n    northern = zoneLetter >= 'N';\r\n  }\r\n\r\n  var x = easting - 500000;\r\n  var y = northing;\r\n\r\n  if (!northern) y -= 1e7;\r\n\r\n  var m = y / K0;\r\n  var mu = m / (R * M1);\r\n\r\n  var pRad = mu +\r\n             P2 * Math.sin(2 * mu) +\r\n             P3 * Math.sin(4 * mu) +\r\n             P4 * Math.sin(6 * mu) +\r\n             P5 * Math.sin(8 * mu);\r\n\r\n  var pSin = Math.sin(pRad);\r\n  var pSin2 = Math.pow(pSin, 2);\r\n\r\n  var pCos = Math.cos(pRad);\r\n\r\n  var pTan = Math.tan(pRad);\r\n  var pTan2 = Math.pow(pTan, 2);\r\n  var pTan4 = Math.pow(pTan, 4);\r\n\r\n  var epSin = 1 - E * pSin2;\r\n  var epSinSqrt = Math.sqrt(epSin);\r\n\r\n  var n = R / epSinSqrt;\r\n  var r = (1 - E) / epSin;\r\n\r\n  var c = _E * pCos * pCos;\r\n  var c2 = c * c;\r\n\r\n  var d = x / (n * K0);\r\n  var d2 = Math.pow(d, 2);\r\n  var d3 = Math.pow(d, 3);\r\n  var d4 = Math.pow(d, 4);\r\n  var d5 = Math.pow(d, 5);\r\n  var d6 = Math.pow(d, 6);\r\n\r\n  var latitude = pRad - (pTan / r) *\r\n                 (d2 / 2 -\r\n                  d4 / 24 * (5 + 3 * pTan2 + 10 * c - 4 * c2 - 9 * E_P2)) +\r\n                  d6 / 720 * (61 + 90 * pTan2 + 298 * c + 45 * pTan4 - 252 * E_P2 - 3 * c2);\r\n  var longitude = (d -\r\n                   d3 / 6 * (1 + 2 * pTan2 + c) +\r\n                   d5 / 120 * (5 - 2 * c + 28 * pTan2 - 3 * c2 + 8 * E_P2 + 24 * pTan4)) / pCos;\r\n\r\n  return {\r\n    latitude: toDegrees(latitude),\r\n    longitude: toDegrees(longitude) + zoneNumberToCentralLongitude(zoneNum)\r\n  };\r\n}\r\n\r\nexport function fromLatLon(latitude, longitude, forceZoneNum) {\r\n  if (latitude > 84 || latitude < -80) {\r\n    throw new RangeError('latitude out of range (must be between 80 deg S and 84 deg N)');\r\n  }\r\n  if (longitude > 180 || longitude < -180) {\r\n    throw new RangeError('longitude out of range (must be between 180 deg W and 180 deg E)');\r\n  }\r\n\r\n  var latRad = toRadians(latitude);\r\n  var latSin = Math.sin(latRad);\r\n  var latCos = Math.cos(latRad);\r\n\r\n  var latTan = Math.tan(latRad);\r\n  var latTan2 = Math.pow(latTan, 2);\r\n  var latTan4 = Math.pow(latTan, 4);\r\n\r\n  var zoneNum;\r\n\r\n  if (forceZoneNum === undefined) {\r\n    zoneNum = latLonToZoneNumber(latitude, longitude);\r\n  } else {\r\n    zoneNum = forceZoneNum;\r\n  }\r\n\r\n  var zoneLetter = latitudeToZoneLetter(latitude);\r\n\r\n  var lonRad = toRadians(longitude);\r\n  var centralLon = zoneNumberToCentralLongitude(zoneNum);\r\n  var centralLonRad = toRadians(centralLon);\r\n\r\n  var n = R / Math.sqrt(1 - E * latSin * latSin);\r\n  var c = E_P2 * latCos * latCos;\r\n\r\n  var a = latCos * (lonRad - centralLonRad);\r\n  var a2 = Math.pow(a, 2);\r\n  var a3 = Math.pow(a, 3);\r\n  var a4 = Math.pow(a, 4);\r\n  var a5 = Math.pow(a, 5);\r\n  var a6 = Math.pow(a, 6);\r\n\r\n  var m = R * (M1 * latRad -\r\n               M2 * Math.sin(2 * latRad) +\r\n               M3 * Math.sin(4 * latRad) -\r\n               M4 * Math.sin(6 * latRad));\r\n  var easting = K0 * n * (a +\r\n                          a3 / 6 * (1 - latTan2 + c) +\r\n                          a5 / 120 * (5 - 18 * latTan2 + latTan4 + 72 * c - 58 * E_P2)) + 500000;\r\n  var northing = K0 * (m + n * latTan * (a2 / 2 +\r\n                                         a4 / 24 * (5 - latTan2 + 9 * c + 4 * c * c) +\r\n                                         a6 / 720 * (61 - 58 * latTan2 + latTan4 + 600 * c - 330 * E_P2)));\r\n  if (latitude < 0) northing += 1e7;\r\n\r\n  return {\r\n    easting: easting,\r\n    northing: northing,\r\n    zoneNum: zoneNum,\r\n    zoneLetter: zoneLetter\r\n  };\r\n}\r\n\r\nfunction latitudeToZoneLetter(latitude) {\r\n  if (-80 <= latitude && latitude <= 84) {\r\n    return ZONE_LETTERS[Math.floor((latitude + 80) / 8)];\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction latLonToZoneNumber(latitude, longitude) {\r\n  if (56 <= latitude && latitude < 64 && 3 <= longitude && longitude < 12) return 32;\r\n\r\n  if (72 <= latitude && latitude <= 84 && longitude >= 0) {\r\n    if (longitude <  9) return 31;\r\n    if (longitude < 21) return 33;\r\n    if (longitude < 33) return 35;\r\n    if (longitude < 42) return 37;\r\n  }\r\n\r\n  return Math.floor((longitude + 180) / 6) + 1;\r\n}\r\n\r\nfunction zoneNumberToCentralLongitude(zoneNum) {\r\n  return (zoneNum - 1) * 6 - 180 + 3;\r\n}\r\n\r\nfunction toDegrees(rad) {\r\n  return rad / Math.PI * 180;\r\n}\r\n\r\nfunction toRadians(deg) {\r\n  return deg * Math.PI / 180;\r\n}\r\n"],
  "mappings": ";;;AAEA,IAAI,KAAK;AAET,IAAI,IAAI;AACR,IAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AACtB,IAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AACtB,IAAI,OAAO,KAAK,IAAI;AAEpB,IAAI,SAAS,KAAK,KAAK,IAAI,CAAC;AAC5B,IAAI,MAAM,IAAI,WAAW,IAAI;AAC7B,IAAI,MAAM,KAAK,IAAI,IAAI,CAAC;AACxB,IAAI,MAAM,KAAK,IAAI,IAAI,CAAC;AACxB,IAAI,MAAM,KAAK,IAAI,IAAI,CAAC;AACxB,IAAI,MAAM,KAAK,IAAI,IAAI,CAAC;AAExB,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK;AAC5C,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK;AAC7C,IAAI,KAAK,KAAK,KAAK,MAAM,KAAK,KAAK;AACnC,IAAI,KAAK,KAAK,KAAK;AAEnB,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,MAAM,MAAM,MAAM;AAClD,IAAI,KAAK,KAAK,KAAK,MAAM,KAAK,KAAK;AACnC,IAAI,KAAK,MAAM,KAAK,MAAM,MAAM,MAAM;AACtC,IAAI,KAAK,OAAO,MAAM;AAEtB,IAAI,IAAI;AAER,IAAI,eAAe;AAEZ,SAAS,SAAS,SAAS,UAAU,SAAS,YAAY,UAAU,QAAQ;AACjF,WAAS,WAAW,SAAY,SAAS;AAEzC,MAAI,CAAC,cAAc,aAAa,QAAW;AACzC,UAAM,IAAI,MAAM,+CAA+C;AAAA,EACjE,WAAW,cAAc,aAAa,QAAW;AAC/C,UAAM,IAAI,MAAM,iDAAiD;AAAA,EACnE;AAEA,MAAI,QAAQ;AACV,QAAI,UAAU,OAAU,OAAW,SAAS;AAC1C,YAAM,IAAI,WAAW,gEAAgE;AAAA,IACvF;AACA,QAAI,WAAW,KAAK,WAAW,KAAU;AACvC,YAAM,IAAI,WAAW,8DAA8D;AAAA,IACrF;AAAA,EACF;AACA,MAAI,UAAU,KAAK,UAAU,IAAI;AAC/B,UAAM,IAAI,WAAW,qDAAqD;AAAA,EAC5E;AACA,MAAI,YAAY;AACd,iBAAa,WAAW,YAAY;AACpC,QAAI,WAAW,WAAW,KAAK,aAAa,QAAQ,UAAU,MAAM,IAAI;AACtE,YAAM,IAAI,WAAW,oDAAoD;AAAA,IAC3E;AACA,eAAW,cAAc;AAAA,EAC3B;AAEA,MAAI,IAAI,UAAU;AAClB,MAAI,IAAI;AAER,MAAI,CAAC,SAAU,MAAK;AAEpB,MAAI,IAAI,IAAI;AACZ,MAAI,KAAK,KAAK,IAAI;AAElB,MAAI,OAAO,KACA,KAAK,KAAK,IAAI,IAAI,EAAE,IACpB,KAAK,KAAK,IAAI,IAAI,EAAE,IACpB,KAAK,KAAK,IAAI,IAAI,EAAE,IACpB,KAAK,KAAK,IAAI,IAAI,EAAE;AAE/B,MAAI,OAAO,KAAK,IAAI,IAAI;AACxB,MAAI,QAAQ,KAAK,IAAI,MAAM,CAAC;AAE5B,MAAI,OAAO,KAAK,IAAI,IAAI;AAExB,MAAI,OAAO,KAAK,IAAI,IAAI;AACxB,MAAI,QAAQ,KAAK,IAAI,MAAM,CAAC;AAC5B,MAAI,QAAQ,KAAK,IAAI,MAAM,CAAC;AAE5B,MAAI,QAAQ,IAAI,IAAI;AACpB,MAAI,YAAY,KAAK,KAAK,KAAK;AAE/B,MAAI,IAAI,IAAI;AACZ,MAAI,KAAK,IAAI,KAAK;AAElB,MAAI,IAAI,KAAK,OAAO;AACpB,MAAI,KAAK,IAAI;AAEb,MAAI,IAAI,KAAK,IAAI;AACjB,MAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AACtB,MAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AACtB,MAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AACtB,MAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AACtB,MAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AAEtB,MAAI,WAAW,OAAQ,OAAO,KACd,KAAK,IACL,KAAK,MAAM,IAAI,IAAI,QAAQ,KAAK,IAAI,IAAI,KAAK,IAAI,SACjD,KAAK,OAAO,KAAK,KAAK,QAAQ,MAAM,IAAI,KAAK,QAAQ,MAAM,OAAO,IAAI;AACtF,MAAI,aAAa,IACA,KAAK,KAAK,IAAI,IAAI,QAAQ,KAC1B,KAAK,OAAO,IAAI,IAAI,IAAI,KAAK,QAAQ,IAAI,KAAK,IAAI,OAAO,KAAK,UAAU;AAEzF,SAAO;AAAA,IACL,UAAU,UAAU,QAAQ;AAAA,IAC5B,WAAW,UAAU,SAAS,IAAI,6BAA6B,OAAO;AAAA,EACxE;AACF;AAEO,SAAS,WAAW,UAAU,WAAW,cAAc;AAC5D,MAAI,WAAW,MAAM,WAAW,KAAK;AACnC,UAAM,IAAI,WAAW,+DAA+D;AAAA,EACtF;AACA,MAAI,YAAY,OAAO,YAAY,MAAM;AACvC,UAAM,IAAI,WAAW,kEAAkE;AAAA,EACzF;AAEA,MAAI,SAAS,UAAU,QAAQ;AAC/B,MAAI,SAAS,KAAK,IAAI,MAAM;AAC5B,MAAI,SAAS,KAAK,IAAI,MAAM;AAE5B,MAAI,SAAS,KAAK,IAAI,MAAM;AAC5B,MAAI,UAAU,KAAK,IAAI,QAAQ,CAAC;AAChC,MAAI,UAAU,KAAK,IAAI,QAAQ,CAAC;AAEhC,MAAI;AAEJ,MAAI,iBAAiB,QAAW;AAC9B,cAAU,mBAAmB,UAAU,SAAS;AAAA,EAClD,OAAO;AACL,cAAU;AAAA,EACZ;AAEA,MAAI,aAAa,qBAAqB,QAAQ;AAE9C,MAAI,SAAS,UAAU,SAAS;AAChC,MAAI,aAAa,6BAA6B,OAAO;AACrD,MAAI,gBAAgB,UAAU,UAAU;AAExC,MAAI,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,SAAS,MAAM;AAC7C,MAAI,IAAI,OAAO,SAAS;AAExB,MAAI,IAAI,UAAU,SAAS;AAC3B,MAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AACtB,MAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AACtB,MAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AACtB,MAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AACtB,MAAI,KAAK,KAAK,IAAI,GAAG,CAAC;AAEtB,MAAI,IAAI,KAAK,KAAK,SACL,KAAK,KAAK,IAAI,IAAI,MAAM,IACxB,KAAK,KAAK,IAAI,IAAI,MAAM,IACxB,KAAK,KAAK,IAAI,IAAI,MAAM;AACrC,MAAI,UAAU,KAAK,KAAK,IACA,KAAK,KAAK,IAAI,UAAU,KACxB,KAAK,OAAO,IAAI,KAAK,UAAU,UAAU,KAAK,IAAI,KAAK,SAAS;AACxF,MAAI,WAAW,MAAM,IAAI,IAAI,UAAU,KAAK,IACL,KAAK,MAAM,IAAI,UAAU,IAAI,IAAI,IAAI,IAAI,KACzC,KAAK,OAAO,KAAK,KAAK,UAAU,UAAU,MAAM,IAAI,MAAM;AACjG,MAAI,WAAW,EAAG,aAAY;AAE9B,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;AAEA,SAAS,qBAAqB,UAAU;AACtC,MAAI,OAAO,YAAY,YAAY,IAAI;AACrC,WAAO,aAAa,KAAK,OAAO,WAAW,MAAM,CAAC,CAAC;AAAA,EACrD,OAAO;AACL,WAAO;AAAA,EACT;AACF;AAEA,SAAS,mBAAmB,UAAU,WAAW;AAC/C,MAAI,MAAM,YAAY,WAAW,MAAM,KAAK,aAAa,YAAY,GAAI,QAAO;AAEhF,MAAI,MAAM,YAAY,YAAY,MAAM,aAAa,GAAG;AACtD,QAAI,YAAa,EAAG,QAAO;AAC3B,QAAI,YAAY,GAAI,QAAO;AAC3B,QAAI,YAAY,GAAI,QAAO;AAC3B,QAAI,YAAY,GAAI,QAAO;AAAA,EAC7B;AAEA,SAAO,KAAK,OAAO,YAAY,OAAO,CAAC,IAAI;AAC7C;AAEA,SAAS,6BAA6B,SAAS;AAC7C,UAAQ,UAAU,KAAK,IAAI,MAAM;AACnC;AAEA,SAAS,UAAU,KAAK;AACtB,SAAO,MAAM,KAAK,KAAK;AACzB;AAEA,SAAS,UAAU,KAAK;AACtB,SAAO,MAAM,KAAK,KAAK;AACzB;",
  "names": []
}
